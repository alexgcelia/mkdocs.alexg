{"config":{"lang":["es"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Bienvenida a la p\u00e1gina de mkdocs de Alex G","text":""},{"location":"#esta-es-la-pagina-principal","title":"Esta es la p\u00e1gina principal","text":""},{"location":"about/","title":"About","text":"<p>Alberto Freites es asistente administrativo con diez a\u00f1os de experiencia trabajando junto al equipo ejecutivo de una empresa Fortune 500. Freites se especializa en tecnolog\u00eda administrativa y es responsable de educar a otros empleados sobre el uso de sistemas y aplicaciones progresivos, incluidos software de contabilidad, procedimientos de comunicaci\u00f3n masiva, y aplicaciones organizacionales. Alberto es una persona de fuerza motivadora en el lugar de trabajo, quien utiliza su actitud positiva, y energ\u00eda incansable para alentar a otros a trabajar duro y tener \u00e9xito. Freites se inspira diariamente en su esposa y sus tres hijos. En su tiempo libre, a Alberto Freites le gusta caminar, nadar la playa, y jugar videojuegos con sus hijos.</p>"},{"location":"blog/","title":"Blog","text":"<p>mkdocs</p>"},{"location":"practica1-7/","title":"practica01.7-iaw","text":"<p>Este repositorio es para la pr\u00e1ctica01.7 de Git del m\u00f3dulo IAW</p> <ol> <li> <p>Usaremos la misma m\u00e1quina de la pr\u00e1ctica01.6-iaw</p> </li> <li> <p>Iremos al laboratorio de nuestro AWS y descargaremos la key SSH en formato PEM. Renombramos el archivo a \"vockey.pem\" y la colocamos en una carpeta. </p> </li> <li> <p>Nos conectamos a la m\u00e1quina mediante ssh con el comando \"ssh -i \"vockey.pem\" ubuntu@[IP publica de la m\u00e1quina]\".</p> </li> <li> <p>Ahora nos dirigiremos al Visual Studio Code, descargamos la extensi\u00f3n \"Remote - SSH\" para poder conectarnos a la m\u00e1quina. Con CTRL + SHIFT + P abriremos el archivo de configuraci\u00f3n de SSH y colocamos los siguientes datos.</p> </li> </ol>"},{"location":"practica1-7/#usamos-la-misma-carpeta-conf-y-el-archivo-000-defaultconf-archivo-de-configuracion-de-la-practica016-iaw","title":"Usamos la misma carpeta conf y el archivo 000-default.conf (Archivo de configuraci\u00f3n) de la pr\u00e1ctica01.6-iaw","text":""},{"location":"practica1-7/#configuracion","title":"Configuraci\u00f3n","text":"<pre><code>ServerSignature Off\nServerTokens Prod\n&lt;VirtualHost *:80&gt;\n  #ServerName www.example.com\n  ServerAdmin webmaster@localhost\n  DocumentRoot /var/www/html\n\n  &lt;Directory \"/var/www/html\"&gt;\n    AllowOverride All\n  &lt;/Directory&gt;\n\n  ErrorLog ${APACHE_LOG_DIR}/error.log\n  CustomLog ${APACHE_LOG_DIR}/access.log combined\n&lt;/VirtualHost&gt;\n</code></pre>"},{"location":"practica1-7/#usamos-la-misma-carpeta-htaccess-y-archivo-htaccess-de-la-practica016-iaw","title":"Usamos la misma carpeta htaccess y archivo .htaccess de la pr\u00e1ctica01.6-iaw","text":"<pre><code># BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n# END WordPress\n</code></pre>"},{"location":"practica1-7/#usamos-la-misma-carpeta-php-y-archivo-indexphp-de-la-practica016-iaw","title":"Usamos la misma carpeta php y archivo index.php de la pr\u00e1ctica01.6-iaw","text":"<pre><code>&lt;?php\n\nphpinfo();\n\n?&gt;\n</code></pre>"},{"location":"practica1-7/#creacion-de-la-carpeta-scripts-y-archivo-env-variables-para-el-deploy_wordpress_wpclish","title":"Creaci\u00f3n de la carpeta scripts y archivo .env (Variables para el deploy_wordpress_wpcli.sh)","text":""},{"location":"practica1-7/#configuramos-las-variables","title":"Configuramos las variables","text":"<pre><code>WORDPRESS_DB_NAME=wordpress\nWORDPRESS_DB_USER=alexg\nWORDPRESS_DB_PASSWORD=1234\nWORDPRESS_DB_HOST=localhost\nIP_CLIENTE_MYSQL=localhost\n\nWORDPRESS_TITLE=\"Sitio web de IAW\"\nWORDPRESS_ADMIN_USER=admin\nWORDPRESS_ADMIN_PASS=admin\nWORDPRESS_ADMIN_EMAIL=demo@demo.es\n\nCB_MAIL=alexg@iaw.com\nCB_DOMAIN=practica6-wordpress.ddns.net\n</code></pre>"},{"location":"practica1-7/#usamos-el-mismo-install_lampsh-de-la-practica016-iaw","title":"Usamos el mismo install_lamp.sh de la pr\u00e1ctica01.6-iaw","text":""},{"location":"practica1-7/#muestra-todos-los-comandos-que-se-van-ejecutando","title":"Muestra todos los comandos que se van ejecutando","text":"<p>set -ex</p>"},{"location":"practica1-7/#actualizamos-los-repositorios","title":"Actualizamos los repositorios","text":"<p>apt update</p>"},{"location":"practica1-7/#actualizamos-los-paquetes","title":"Actualizamos los paquetes","text":"<p>apt upgrade -y</p>"},{"location":"practica1-7/#importamos-archivo-env","title":"Importamos archivo .env","text":"<p>source .env</p>"},{"location":"practica1-7/#instalamos-el-servidor-web-apache","title":"Instalamos el servidor web Apache","text":"<p>apt install apache2 -y</p>"},{"location":"practica1-7/#instalamos-el-gestor-de-bases-de-datos-mysql","title":"Instalamos el gestor de bases de datos MySQL","text":"<p>apt install mysql-server -y</p>"},{"location":"practica1-7/#instalamos-php","title":"Instalamos PHP","text":"<p>apt install php libapache2-mod-php php-mysql -y</p>"},{"location":"practica1-7/#copiamos-le-archivo-conf-de-apache","title":"Copiamos le archivo conf de apache","text":"<p>cp ../conf/000-default.conf /etc/apache2/sites-available</p>"},{"location":"practica1-7/#reiniciamos-el-servicio-de-apache","title":"Reiniciamos el servicio de Apache","text":"<p>systemctl restart apache2</p>"},{"location":"practica1-7/#copiamos-el-archivo-php","title":"Copiamos el archivo .php","text":"<p>cp ../php/index.php /var/www/html</p>"},{"location":"practica1-7/#modificamos-el-propietario-y-el-grupo-del-directorio-varwwwhtml","title":"Modificamos el propietario y el grupo del directorio /var/www/html","text":"<p>chown -R www-data:www-data /var/www/html</p>"},{"location":"practica1-7/#usamos-el-mismo-archivo-setup_letsencrypt_certificatesh-de-la-practica016-iaw","title":"Usamos el mismo archivo setup_letsencrypt_certificate.sh de la pr\u00e1ctica01.6-iaw","text":""},{"location":"practica1-7/#muestra-todos-los-comandos-que-se-van-ejecutando_1","title":"Muestra todos los comandos que se van ejecutando","text":"<p>set -ex</p>"},{"location":"practica1-7/#actualizamos-los-repositorios_1","title":"Actualizamos los repositorios","text":"<p>apt update</p>"},{"location":"practica1-7/#actualizamos-los-paquetes_1","title":"Actualizamos los paquetes","text":""},{"location":"practica1-7/#apt-upgrade-y","title":"apt upgrade -y","text":""},{"location":"practica1-7/#importamos-el-archivo-de-variables-env","title":"Importamos el archivo de variables .env","text":"<p>source .env</p>"},{"location":"practica1-7/#instalamos-y-actualizamos-snapd","title":"Instalamos y actualizamos snapd","text":"<p>snap install core &amp;&amp; snap refresh core</p>"},{"location":"practica1-7/#eliminamos-cualquier-instalacion-previa-de-certbot-con-apt","title":"Eliminamos cualquier instalaci\u00f3n previa de certbot con apt","text":"<p>apt remove certbot</p>"},{"location":"practica1-7/#instalamos-la-aplicacion-certbot","title":"Instalamos la aplicaci\u00f3n certbot","text":"<p>snap install --classic certbot</p>"},{"location":"practica1-7/#creamos-un-alias-para-la-aplicacion-certbot","title":"Creamos un alias para la aplicaci\u00f3n certbot","text":"<p>ln -fs /snap/bin/certbot /usr/bin/certbot</p>"},{"location":"practica1-7/#ejecutamos-el-comando-certbot","title":"Ejecutamos el comando certbot","text":"<p>certbot --apache -m $CB_MAIL --agree-tos --no-eff-email -d $CB_DOMAIN --non-interactive</p>"},{"location":"practica1-7/#configuramos-que-las-peticiones-a-http-se-redirijan-a-https","title":"Configuramos que las peticiones a HTTP se redirijan a HTTPS","text":""},{"location":"practica1-7/#copiamos-el-archivo-de-configuracion-de-virtualhost-para-http","title":"Copiamos el archivo de configuraci\u00f3n de VirtualHost para HTTP","text":"<p>cp ../conf/000-default.conf /etc/apache2/sites-available</p>"},{"location":"practica1-7/#habilitamos-el-modulo-rewrite","title":"Habilitamos el m\u00f3dulo rewrite","text":"<p>a2enmod rewrite</p>"},{"location":"practica1-7/#sustituimos-el-nombre-del-dominio","title":"Sustituimos el nombre del dominio","text":"<p>sed -i \"s/PUT_YOUR_DOMAIN_HERE/$OPENSSL_COMMON_NAME/\" /etc/apache2/sites-available/default-ssl.conf</p>"},{"location":"practica1-7/#reiniciamos-el-servicio-de-apache_1","title":"Reiniciamos el servicio de Apache","text":"<p>systemctl restart apache2</p>"},{"location":"practica1-7/#creacion-del-deploy_wordpress_wpclish","title":"Creaci\u00f3n del deploy_wordpress_wpcli.sh","text":""},{"location":"practica1-7/#muestra-todos-los-comandos-que-se-van-ejecutando_2","title":"Muestra todos los comandos que se van ejecutando","text":"<p>set -ex</p>"},{"location":"practica1-7/#actualizamos-los-repositorios_2","title":"Actualizamos los repositorios","text":"<p>apt update</p>"},{"location":"practica1-7/#actualizamos-los-paquetes_2","title":"Actualizamos los paquetes","text":""},{"location":"practica1-7/#apt-upgrade-y_1","title":"apt upgrade -y","text":""},{"location":"practica1-7/#importamos-el-archivo-de-variables-env_1","title":"Importamos el archivo de variables .env","text":"<p>source .env</p>"},{"location":"practica1-7/#eliminamos-descargas-previas-de-wp-cli","title":"Eliminamos descargas previas de wp-cli","text":"<p>rm -rf /tmp/wp-cli.phar</p>"},{"location":"practica1-7/#descargamos-la-utilidad-wp-cli","title":"Descargamos la utilidad wp-cli","text":"<p>wget https://raw.githubusercontent.com/wp-cli/builds/gh-pages/phar/wp-cli.phar -P /tmp</p>"},{"location":"practica1-7/#damos-permisos-de-ejecucion-al-archivo-wp-cliphar","title":"Damos permisos de ejecuci\u00f3n al archivo wp-cli.phar","text":"<p>chmod +x /tmp/wp-cli.phar</p>"},{"location":"practica1-7/#movemos-la-utilidad-wp-cli-al-directorio-usrlocalbin","title":"Movemos la utilidad wp-cli al directorio /usr/local/bin","text":"<p>mv /tmp/wp-cli.phar /usr/local/bin/wp</p>"},{"location":"practica1-7/#eliminamos-instalaciones-previas-de-wordpress","title":"Eliminamos instalaciones previas de WordPress","text":"<p>rm -rf /var/www/html/*</p>"},{"location":"practica1-7/#descargamos-el-codigo-fuente-ed-wordpress-en-varwwwhtml","title":"Descargamos el c\u00f3digo fuente ed WordPress en /var/www/html","text":"<p>wp core download --locale=es_ES --path=/var/www/html --allow-root</p>"},{"location":"practica1-7/#creamos-la-base-de-datos-y-el-usuario-para-wordpress","title":"Creamos la base de datos y el usuario para WordPress","text":"<p>mysql -u root &lt;&lt;&lt; \"DROP DATABASE IF EXISTS $WORDPRESS_DB_NAME\" mysql -u root &lt;&lt;&lt; \"CREATE DATABASE $WORDPRESS_DB_NAME\" mysql -u root &lt;&lt;&lt; \"DROP USER IF EXISTS $WORDPRESS_DB_USER@$IP_CLIENTE_MYSQL\" mysql -u root &lt;&lt;&lt; \"CREATE USER $WORDPRESS_DB_USER@$IP_CLIENTE_MYSQL IDENTIFIED BY '$WORDPRESS_DB_PASSWORD'\" mysql -u root &lt;&lt;&lt; \"GRANT ALL PRIVILEGES ON $WORDPRESS_DB_NAME.* TO $WORDPRESS_DB_USER@$IP_CLIENTE_MYSQL\"</p>"},{"location":"practica1-7/#creamos-el-archivo-wp-config","title":"Creamos el archivo wp-config","text":"<p>wp config create \\   --dbname=$WORDPRESS_DB_NAME \\   --dbuser=$WORDPRESS_DB_USER \\   --dbpass=$WORDPRESS_DB_PASSWORD \\   --path=/var/www/html \\   --allow-root</p>"},{"location":"practica1-7/#instalamos-wordpress","title":"Instalamos WordPress","text":"<p>wp core install \\   --url=$CB_DOMAIN \\   --title=\"$WORDPRESS_DB_TITLE\" \\   --admin_user=$WORDPRESS_ADMIN_USER \\   --admin_password=$WORDPRESS_ADMIN_PASS \\   --admin_email=$WORDPRESS_ADMIN_EMAIL \\   --path=/var/www/html \\   --allow-root</p>"},{"location":"practica1-7/#actualizamos-los-plugins","title":"Actualizamos los plugins","text":"<p>wp core update --path=/var/www/html --allow-root</p>"},{"location":"practica1-7/#actualizamos-los-temas","title":"Actualizamos los temas","text":"<p>wp theme update --all --path=/var/www/html --allow-root</p>"},{"location":"practica1-7/#instalamos-un-tema","title":"Instalamos un tema","text":"<p>wp theme install $TEMA --activate --path=/var/www/html --allow-root</p>"},{"location":"practica1-7/#actualizamos-los-plugins_1","title":"Actualizamos los plugins","text":"<p>wp plugin update --all --path=/var/www/html --allow-root</p>"},{"location":"practica1-7/#instalamos-los-plugins","title":"Instalamos los plugins","text":"<p>wp plugin install $PLUGIN --activate --path=/var/www/html --allow-root wp plugin install $PLUGIN2 --activate --path=/var/www/html --allow-root</p>"},{"location":"practica1-7/#cambiamos-la-estructura-de-las-url","title":"Cambiamos la estructura de las url","text":"<p>wp rewrite structure '/%postname%/' --path=/var/www/html --allow-root</p>"},{"location":"practica1-7/#cambiamos-el-login-por-lo-que-nosotros-queramos-del-plugin-hide-login","title":"Cambiamos el /login por lo que nosotros queramos del plugin hide-login","text":"<p>wp option update whl_page 'acceso' --path=/var/www/html --allow-root</p>"},{"location":"practica1-7/#copiamos-el-archivo-htaccess-en-varwwwhtml","title":"Copiamos el archivo .htaccess en /var/www/html","text":"<p>cp ../htaccess/.htaccess /var/www/html</p>"},{"location":"practica1-9/","title":"practica01.9-iaw","text":"<p>Este repositorio es para la pr\u00e1ctica01.9 de Git del m\u00f3dulo IAW Arquitectura de una aplicaci\u00f3n web LAMP en dos niveles</p> <ol> <li> <p>Creamos dos m\u00e1quinas instancia EC2 en AWS iguales una para el frontend y otra para el backend.</p> </li> <li> <p>Le ponemos un nombre (practica01.9-frontend y practica01.9-backend respectivamente) y seleccionamos la Amazon Machine Image </p> </li> <li> <p>Creamos 2 grupos de seguridad diferentes para estas m\u00e1quinas. Para la del frontend abriremos los puertos 80 (HTTP), 22 (SSH) y todos los ICMP IPv4. Mientras que para el backend abriremos los puertos 3306 (MYSQL/Aurora), 22 (SSH) y todos los ICMP IPv4.</p> </li> <li> <p>Seleccionamos el tama\u00f1o que queremos que tenga nuestra m\u00e1quina, en este caso la t2.small. En par de claves seleccionaremos la de vockey y creando la instancia debemos abrir los puertos para conectarnos por SSH y poder acceder por HTTP/HTTPS.</p> </li> <li> <p>Creamos un par de claves (p\u00fablica y privada) para conectar por SSH con las instancias. Nos dirigiremos a \"Direcciones IP el\u00e1sticas\", creamos dos y las asignamos a las instancias EC2 correspondientes.</p> </li> <li> <p>Una vez asignada, iremos al laboratorio de nuestro AWS y descargaremos la key SSH en formato PEM. Renombramos el archivo a \"vockey.pem\" y la colocamos en una carpeta. </p> </li> <li> <p>Nos conectamos a la m\u00e1quina mediante ssh con el comando \"ssh -i \"vockey.pem\" ubuntu@[IP publica de la m\u00e1quina]\".</p> </li> <li> <p>Ahora nos dirigiremos al Visual Studio Code, descargamos la extensi\u00f3n \"Remote - SSH\" para poder conectarnos a las m\u00e1quinas. Con CTRL + SHIFT + P abriremos el archivo de configuraci\u00f3n de SSH y colocamos los siguientes datos.</p> </li> </ol>"},{"location":"practica1-9/#creacion-de-la-carpeta-conf-y-el-archivo-000-defaultconf-archivo-de-configuracion","title":"Creaci\u00f3n de la carpeta conf y el archivo 000-default.conf (Archivo de configuraci\u00f3n)","text":""},{"location":"practica1-9/#configuracion","title":"Configuraci\u00f3n","text":"<pre><code>ServerSignature Off\nServerTokens Prod\n&lt;VirtualHost *:80&gt;\n  #ServerName www.example.com\n  ServerAdmin webmaster@localhost\n  DocumentRoot /var/www/html\n\n  &lt;Directory \"/var/www/html\"&gt;\n    AllowOverride All\n  &lt;/Directory&gt;\n\n  ErrorLog ${APACHE_LOG_DIR}/error.log\n  CustomLog ${APACHE_LOG_DIR}/access.log combined\n&lt;/VirtualHost&gt;\n</code></pre>"},{"location":"practica1-9/#creacion-de-la-carpeta-htaccess-y-archivo-htaccess","title":"Creaci\u00f3n de la carpeta htaccess y archivo .htaccess","text":"<pre><code># BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n# END WordPress\n</code></pre>"},{"location":"practica1-9/#creacion-de-la-carpeta-php-y-archivo-indexphp","title":"Creaci\u00f3n de la carpeta php y archivo index.php","text":"<pre><code>&lt;?php\n\nphpinfo();\n\n?&gt;\n</code></pre>"},{"location":"practica1-9/#creacion-de-la-carpeta-scripts-y-archivo-variables-env","title":"Creaci\u00f3n de la carpeta scripts y archivo variables .env","text":"<pre><code>MYSQL_PRIVATE_IP=172.31.90.21\n\nWORDPRESS_DB_NAME=wordpress\nWORDPRESS_DB_USER=alexg\nWORDPRESS_DB_PASSWORD=1234\nWORDPRESS_DB_HOST=172.31.90.21\nIP_CLIENTE_MYSQL=172.31.88.174\nTEMA=mindscape\nPLUGIN=wps-hide-login\nPLUGIN2=jetpack\n\nWORDPRESS_TITLE=\"Sitio web de IAW\"\nWORDPRESS_ADMIN_USER=admin\nWORDPRESS_ADMIN_PASS=admin\nWORDPRESS_ADMIN_EMAIL=demo@demo.es\n\nCB_MAIL=alexg@iaw.com\nCB_DOMAIN=practica9.hopto.org\n</code></pre>"},{"location":"practica1-9/#creacion-del-install_lamp_frontendsh","title":"Creaci\u00f3n del install_lamp_frontend.sh","text":""},{"location":"practica1-9/#muestra-todos-los-comandos-que-se-van-ejecutando","title":"Muestra todos los comandos que se van ejecutando","text":"<p>set -ex</p>"},{"location":"practica1-9/#actualizamos-los-repositorios","title":"Actualizamos los repositorios","text":"<p>apt update</p>"},{"location":"practica1-9/#actualizamos-los-paquetes","title":"Actualizamos los paquetes","text":"<p>apt upgrade -y</p>"},{"location":"practica1-9/#instalamos-el-servidor-web-apache","title":"Instalamos el servidor web Apache","text":"<p>apt install apache2 -y</p>"},{"location":"practica1-9/#instalamos-php","title":"Instalamos PHP","text":"<p>apt install php libapache2-mod-php php-mysql -y</p>"},{"location":"practica1-9/#copiamos-le-archivo-conf-de-apache","title":"Copiamos le archivo conf de apache","text":"<p>cp ../conf/000-default.conf /etc/apache2/sites-available</p>"},{"location":"practica1-9/#habilitamos-el-modulo-rewrite","title":"Habilitamos el m\u00f3dulo rewrite","text":"<p>a2enmod rewrite</p>"},{"location":"practica1-9/#reiniciamos-el-servicio-de-apache","title":"Reiniciamos el servicio de Apache","text":"<p>systemctl restart apache2</p>"},{"location":"practica1-9/#copiamos-el-archivo-php","title":"Copiamos el archivo .php","text":"<p>cp ../php/index.php /var/www/html</p>"},{"location":"practica1-9/#creacion-del-install_lamp_backendsh","title":"Creaci\u00f3n del install_lamp_backend.sh","text":""},{"location":"practica1-9/#muestra-todos-los-comandos-que-se-van-ejecutando_1","title":"Muestra todos los comandos que se van ejecutando","text":"<p>set -ex</p>"},{"location":"practica1-9/#anadimos-env","title":"A\u00f1adimos .env","text":"<p>source .env</p>"},{"location":"practica1-9/#actualizamos-los-repositorios_1","title":"Actualizamos los repositorios","text":"<p>apt update</p>"},{"location":"practica1-9/#actualizamos-los-paquetes_1","title":"Actualizamos los paquetes","text":"<p>apt upgrade -y</p>"},{"location":"practica1-9/#instalamos-el-gestor-de-bases-de-datos-mysql","title":"Instalamos el gestor de bases de datos MySQL","text":"<p>apt install mysql-server -y</p>"},{"location":"practica1-9/#configuramos-mysql-para-que-solo-acepte-conexiones-desde-la-ip-privada","title":"Configuramos MySQL para que solo acepte conexiones desde la IP privada","text":"<p>sed -i \"s/127.0.0.1/$MYSQL_PRIVATE_IP/\" /etc/mysql/mysql.conf.d/mysqld.cnf</p>"},{"location":"practica1-9/#reiniciamos-el-servicio-de-mysql","title":"Reiniciamos el servicio de MySQL","text":"<p>systemctl restart mysql</p>"},{"location":"practica1-9/#creacion-del-setup_letsencrypt_certificatesh","title":"Creaci\u00f3n del setup_letsencrypt_certificate.sh","text":""},{"location":"practica1-9/#muestra-todos-los-comandos-que-se-van-ejecutando_2","title":"Muestra todos los comandos que se van ejecutando","text":"<p>set -ex</p>"},{"location":"practica1-9/#actualizamos-los-repositorios_2","title":"Actualizamos los repositorios","text":"<p>apt update</p>"},{"location":"practica1-9/#actualizamos-los-paquetes_2","title":"Actualizamos los paquetes","text":"<p>apt upgrade -y</p>"},{"location":"practica1-9/#importamos-el-archivo-de-variables-env","title":"Importamos el archivo de variables .env","text":"<p>source .env</p>"},{"location":"practica1-9/#instalamos-y-actualizamos-snapd","title":"Instalamos y actualizamos snapd","text":"<p>snap install core &amp;&amp; snap refresh core</p>"},{"location":"practica1-9/#eliminamos-cualquier-instalacion-previa-de-certbot-con-apt","title":"Eliminamos cualquier instalaci\u00f3n previa de certbot con apt","text":"<p>apt remove certbot</p>"},{"location":"practica1-9/#instalamos-la-aplicacion-certbot","title":"Instalamos la aplicaci\u00f3n certbot","text":"<p>snap install --classic certbot</p>"},{"location":"practica1-9/#creamos-un-alias-para-la-aplicacion-certbot","title":"Creamos un alias para la aplicaci\u00f3n certbot","text":"<p>ln -fs /snap/bin/certbot /usr/bin/certbot</p>"},{"location":"practica1-9/#ejecutamos-el-comando-certbot","title":"Ejecutamos el comando certbot","text":"<p>certbot --apache -m $CB_MAIL --agree-tos --no-eff-email -d $CB_DOMAIN --non-interactive</p>"},{"location":"practica1-9/#creacion-del-deploy_frontendsh","title":"Creaci\u00f3n del deploy_frontend.sh","text":""},{"location":"practica1-9/#muestra-todos-los-comandos-que-se-van-ejecutando_3","title":"Muestra todos los comandos que se van ejecutando","text":"<p>set -ex</p>"},{"location":"practica1-9/#actualizamos-los-repositorios_3","title":"Actualizamos los repositorios","text":"<p>apt update</p>"},{"location":"practica1-9/#actualizamos-los-paquetes_3","title":"Actualizamos los paquetes","text":"<p>apt upgrade -y</p>"},{"location":"practica1-9/#importamos-el-archivo-de-variables-env_1","title":"Importamos el archivo de variables .env","text":"<p>source .env</p>"},{"location":"practica1-9/#eliminamos-descargas-previas-de-wp-cli","title":"Eliminamos descargas previas de wp-cli","text":"<p>rm -rf /tmp/wp-cli.phar</p>"},{"location":"practica1-9/#descargamos-la-utilidad-wp-cli","title":"Descargamos la utilidad wp-cli","text":"<p>wget https://raw.githubusercontent.com/wp-cli/builds/gh-pages/phar/wp-cli.phar -P /tmp</p>"},{"location":"practica1-9/#damos-permisos-de-ejecucion-al-archivo-wp-cliphar","title":"Damos permisos de ejecuci\u00f3n al archivo wp-cli.phar","text":"<p>chmod +x /tmp/wp-cli.phar</p>"},{"location":"practica1-9/#movemos-la-utilidad-wp-cli-al-directorio-usrlocalbin","title":"Movemos la utilidad wp-cli al directorio /usr/local/bin","text":"<p>mv /tmp/wp-cli.phar /usr/local/bin/wp</p>"},{"location":"practica1-9/#eliminamos-instalaciones-previas-de-wordpress","title":"Eliminamos instalaciones previas de WordPress","text":"<p>rm -rf /var/www/html/*</p>"},{"location":"practica1-9/#descargamos-el-codigo-fuente-ed-wordpress-en-varwwwhtml","title":"Descargamos el c\u00f3digo fuente ed WordPress en /var/www/html","text":"<p>wp core download --locale=es_ES --path=/var/www/html --allow-root</p>"},{"location":"practica1-9/#creamos-el-archivo-wp-config","title":"Creamos el archivo wp-config","text":"<p>wp config create \\   --dbname=$WORDPRESS_DB_NAME \\   --dbuser=$WORDPRESS_DB_USER \\   --dbpass=$WORDPRESS_DB_PASSWORD \\   --dbhost=$WORDPRESS_DB_HOST \\   --path=/var/www/html \\   --allow-root</p>"},{"location":"practica1-9/#instalamos-wordpress","title":"Instalamos WordPress","text":"<p>wp core install \\   --url=$CB_DOMAIN \\   --title=\"$WORDPRESS_DB_TITLE\" \\   --admin_user=$WORDPRESS_ADMIN_USER \\   --admin_password=$WORDPRESS_ADMIN_PASS \\   --admin_email=$WORDPRESS_ADMIN_EMAIL \\   --path=/var/www/html \\   --allow-root</p>"},{"location":"practica1-9/#actualizamos-los-plugins","title":"Actualizamos los plugins","text":"<p>wp core update --path=/var/www/html --allow-root</p>"},{"location":"practica1-9/#actualizamos-los-temas","title":"Actualizamos los temas","text":"<p>wp theme update --all --path=/var/www/html --allow-root</p>"},{"location":"practica1-9/#instalamos-un-tema","title":"Instalamos un tema","text":"<p>wp theme install $TEMA --activate --path=/var/www/html --allow-root</p>"},{"location":"practica1-9/#actualizamos-los-plugins_1","title":"Actualizamos los plugins","text":"<p>wp plugin update --all --path=/var/www/html --allow-root</p>"},{"location":"practica1-9/#instalamos-los-plugins","title":"Instalamos los plugins","text":"<p>wp plugin install $PLUGIN --activate --path=/var/www/html --allow-root wp plugin install $PLUGIN2 --activate --path=/var/www/html --allow-root</p>"},{"location":"practica1-9/#cambiamos-la-estructura-de-las-url","title":"Cambiamos la estructura de las url","text":"<p>wp rewrite structure '/%postname%/' --path=/var/www/html --allow-root</p>"},{"location":"practica1-9/#cambiamos-el-login-por-lo-que-nosotros-queramos-del-plugin-hide-login","title":"Cambiamos el /login por lo que nosotros queramos del plugin hide-login","text":"<p>wp option update whl_page 'acceso' --path=/var/www/html --allow-root</p>"},{"location":"practica1-9/#copiamos-el-nuevo-archivo-htaccess-en-varwwwhtml","title":"Copiamos el nuevo archivo .htaccess en /var/www/html","text":"<p>cp ../htaccess/.htaccess /var/www/html</p>"},{"location":"practica1-9/#cambiamos-los-permisos","title":"Cambiamos los permisos","text":"<p>chown -R www-data:www-data /var/www/html chown -R www-data:www-data /var/www/html</p>"}]}